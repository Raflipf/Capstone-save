<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hospital Management System</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app">
      <!-- Navigation Header -->
      <header class="header" id="header" style="display: none">
        <div class="header-content">
          <div class="logo">
            <i class="fas fa-hospital"></i>
            <span>MediCare Hospital</span>
          </div>
          <nav class="nav">
            <a href="#dashboard" class="nav-link" data-route="dashboard">
              <i class="fas fa-tachometer-alt"></i>
              Dashboard
            </a>
            <a
              href="#face-recognition"
              class="nav-link"
              data-route="face-recognition"
            >
              <i class="fas fa-camera"></i>
              Face Recognition
            </a>
            <a href="#add-patient" class="nav-link" data-route="add-patient">
              <i class="fas fa-user-plus"></i>
              Add Patient
            </a>
            <a href="#patients" class="nav-link" data-route="patients">
              <i class="fas fa-users"></i>
              Patients
            </a>
            <a href="#queue" class="nav-link" data-route="queue">
              <i class="fas fa-list-ol"></i>
              Queue
            </a>
          </nav>
          <div class="user-menu">
            <span class="user-name" id="currentUser">Receptionist</span>
            <button class="logout-btn" id="logoutBtn">
              <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </div>
      </header>

      <!-- Main Content Area -->
      <main class="main-content" id="mainContent">
        <!-- Login Page -->
        <div id="login-page" class="page active">
          <div class="login-container">
            <div class="login-card">
              <div class="login-header">
                <i class="fas fa-hospital"></i>
                <h1>MediCare Hospital</h1>
                <p>Receptionist Login</p>
              </div>
              <form class="login-form" id="loginForm">
                <div class="form-group">
                  <label for="username">Username</label>
                  <input type="text" id="username" name="username" required />
                </div>
                <div class="form-group">
                  <label for="password">Password</label>
                  <input
                    type="password"
                    id="password"
                    name="password"
                    required
                  />
                </div>
                <div class="form-group">
                  <button type="submit" class="btn btn-primary">Login</button>
                </div>
                <div class="login-help">
                  <small>Demo credentials: admin / password</small>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page">
          <div class="page-header">
            <h1>Dashboard</h1>
            <p>Welcome to the Hospital Management System</p>
          </div>
          <div class="dashboard-grid">
            <div class="dashboard-card">
              <div class="card-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="card-content">
                <h3>Total Patients</h3>
                <span class="card-number" id="totalPatients">0</span>
              </div>
            </div>
            <div class="dashboard-card">
              <div class="card-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="card-content">
                <h3>Queue Length</h3>
                <span class="card-number" id="queueLength">0</span>
              </div>
            </div>
            <div class="dashboard-card">
              <div class="card-icon">
                <i class="fas fa-user-check"></i>
              </div>
              <div class="card-content">
                <h3>Today's Check-ins</h3>
                <span class="card-number" id="todayCheckins">0</span>
              </div>
            </div>
          </div>
          <div class="recent-activity">
            <h2>Recent Activity</h2>
            <div class="activity-list" id="activityList">
              <div class="empty-state">
                <i class="fas fa-clipboard-list"></i>
                <p>No recent activity</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Face Recognition Page -->
        <div id="face-recognition-page" class="page">
          <div class="page-header">
            <h1>Patient Face Recognition</h1>
            <p>Identify patients using facial recognition technology</p>
          </div>
          <div class="face-recognition-container">
            <div class="camera-section">
              <div class="camera-placeholder" id="cameraPlaceholder">
                <i class="fas fa-camera"></i>
                <p>Camera Feed</p>
              </div>
              <div class="camera-controls">
                <button class="btn btn-primary" id="startCameraBtn">
                  <i class="fas fa-play"></i>
                  Start Camera
                </button>
                <button
                  class="btn btn-success"
                  id="captureBtn"
                  style="display: none"
                >
                  <i class="fas fa-camera"></i>
                  Capture & Identify
                </button>
              </div>
            </div>
            <div class="recognition-results" id="recognitionResults">
              <div class="empty-state">
                <i class="fas fa-user-slash"></i>
                <p>No recognition performed yet</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Add Patient Page -->
        <div id="add-patient-page" class="page">
          <div class="page-header">
            <h1>Add New Patient</h1>
            <p>Register a new patient in the system</p>
          </div>
          <div class="form-container">
            <form class="patient-form" id="patientForm">
              <div class="form-row">
                <div class="form-group">
                  <label for="patientName">Full Name</label>
                  <input type="text" id="patientName" name="name" required />
                </div>
                <div class="form-group">
                  <label for="patientNIK">NIK (ID Number)</label>
                  <input type="text" id="patientNIK" name="nik" required />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="patientDOB">Date of Birth</label>
                  <input type="date" id="patientDOB" name="dob" required />
                </div>
                <div class="form-group">
                  <label for="patientGender">Gender</label>
                  <select id="patientGender" name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="patientAddress">Address</label>
                <textarea
                  id="patientAddress"
                  name="address"
                  required
                ></textarea>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="patientPhone">Phone Number</label>
                  <input type="tel" id="patientPhone" name="phone" required />
                </div>
                <div class="form-group">
                  <label for="patientEmail">Email</label>
                  <input type="email" id="patientEmail" name="email" />
                </div>
              </div>
              <div class="form-group">
                <label for="patientPhoto">Patient Photo</label>
                <div class="photo-capture-section">
                  <div class="photo-preview" id="photoPreview">
                    <i class="fas fa-user"></i>
                    <p>No photo selected</p>
                  </div>
                  <div class="photo-controls">
                    <button
                      type="button"
                      class="btn btn-primary"
                      id="startPhotoCamera"
                    >
                      <i class="fas fa-camera"></i>
                      Take Photo
                    </button>
                    <button
                      type="button"
                      class="btn btn-secondary"
                      id="uploadPhotoFile"
                    >
                      <i class="fas fa-upload"></i>
                      Upload File
                    </button>
                  </div>
                  <input
                    type="file"
                    id="patientPhoto"
                    name="photo"
                    accept="image/*"
                    style="display: none"
                  />
                </div>
                <small
                  >Take a photo or upload a clear image for face
                  recognition</small
                >
              </div>
              <div class="form-actions">
                <button
                  type="button"
                  class="btn btn-secondary"
                  id="clearFormBtn"
                >
                  Clear Form
                </button>
                <button type="submit" class="btn btn-primary">
                  Add Patient
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Medical Records Page -->
        <div id="medical-records-page" class="page">
          <div class="page-header">
            <h1>Medical Records</h1>
            <p>Patient medical history and consultation</p>
          </div>
          <div class="medical-records-container">
            <div class="patient-info-section">
              <div class="patient-summary" id="patientSummary">
                <!-- Patient info will be loaded here -->
              </div>
            </div>

            <div class="medical-content">
              <div class="medical-history">
                <h3>Medical History</h3>
                <div class="history-list" id="medicalHistoryList">
                  <div class="empty-state">
                    <i class="fas fa-file-medical"></i>
                    <p>No medical history found</p>
                  </div>
                </div>
              </div>

              <div class="new-consultation">
                <h3>New Consultation</h3>
                <form class="consultation-form" id="consultationForm">
                  <div class="form-group">
                    <label for="selectedDoctor">Select Doctor</label>
                    <select id="selectedDoctor" name="doctorId" required>
                      <option value="">Choose a doctor...</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="complaint">Chief Complaint</label>
                    <textarea
                      id="complaint"
                      name="complaint"
                      rows="4"
                      placeholder="Describe the patient's main complaint..."
                      required
                    ></textarea>
                  </div>

                  <div class="form-group">
                    <label for="symptoms">Additional Symptoms</label>
                    <textarea
                      id="symptoms"
                      name="symptoms"
                      rows="3"
                      placeholder="Any additional symptoms (optional)"
                    ></textarea>
                  </div>

                  <div class="form-group">
                    <label for="priority">Priority Level</label>
                    <select id="priority" name="priority" required>
                      <option value="normal">Normal</option>
                      <option value="urgent">Urgent</option>
                      <option value="emergency">Emergency</option>
                    </select>
                  </div>

                  <div class="form-actions">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      onclick="router.navigateTo('dashboard')"
                    >
                      Cancel
                    </button>
                    <button type="submit" class="btn btn-primary">
                      Add to Queue
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Patients Page -->
        <div id="patients-page" class="page">
          <div class="page-header">
            <h1>All Patients</h1>
            <p>View and manage all registered patients</p>
          </div>
          <div class="patients-container">
            <div class="patients-controls">
              <div class="search-section">
                <div class="search-input-group">
                  <i class="fas fa-search"></i>
                  <input
                    type="text"
                    id="patientSearchInput"
                    placeholder="Search by name, NIK, or phone..."
                  />
                </div>
                <div class="filter-buttons">
                  <button
                    class="btn btn-sm btn-secondary filter-btn active"
                    data-filter="all"
                  >
                    All
                  </button>
                  <button
                    class="btn btn-sm btn-secondary filter-btn"
                    data-filter="male"
                  >
                    Male
                  </button>
                  <button
                    class="btn btn-sm btn-secondary filter-btn"
                    data-filter="female"
                  >
                    Female
                  </button>
                </div>
              </div>
              <div class="action-buttons">
                <button
                  class="btn btn-primary"
                  onclick="router.navigateTo('add-patient')"
                >
                  <i class="fas fa-user-plus"></i>
                  Add New Patient
                </button>
                <button class="btn btn-secondary" id="exportPatientsBtn">
                  <i class="fas fa-download"></i>
                  Export Data
                </button>
              </div>
            </div>
            <div class="patients-grid" id="patientsGrid">
              <div class="empty-state">
                <i class="fas fa-users-slash"></i>
                <p>No patients found</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Queue Page -->
        <div id="queue-page" class="page">
          <div class="page-header">
            <h1>Patient Queue</h1>
            <p>Manage patient waiting queue</p>
          </div>
          <div class="queue-container">
            <div class="queue-controls">
              <button class="btn btn-primary" id="refreshQueueBtn">
                <i class="fas fa-refresh"></i>
                Refresh Queue
              </button>
            </div>
            <div class="queue-table-container">
              <table class="queue-table">
                <thead>
                  <tr>
                    <th>Queue #</th>
                    <th>Patient Name</th>
                    <th>Doctor</th>
                    <th>Priority</th>
                    <th>Arrival Time</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="queueTableBody">
                  <tr class="empty-row">
                    <td colspan="7">
                      <div class="empty-state">
                        <i class="fas fa-users-slash"></i>
                        <p>No patients in queue</p>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Photo Camera Modal -->
        <div id="photoCameraModal" class="photo-camera-modal">
          <div class="camera-capture-container">
            <h3>Take Patient Photo</h3>
            <video id="cameraVideo" class="camera-video" autoplay muted></video>
            <div class="camera-capture-controls">
              <button class="btn btn-success" id="capturePhotoBtn">
                <i class="fas fa-camera"></i>
                Capture Photo
              </button>
              <button class="btn btn-secondary" id="cancelCameraBtn">
                <i class="fas fa-times"></i>
                Cancel
              </button>
            </div>
          </div>
        </div>

        <!-- Patient Records Modal -->
        <div id="patientModal" class="modal">
          <div class="modal-content">
            <div class="modal-header">
              <h2>Patient Medical Records</h2>
              <button class="modal-close" id="closeModalBtn">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="modal-body" id="patientModalBody">
              <!-- Patient details will be loaded here -->
            </div>
          </div>
        </div>
      </main>
    </div>
  </body>
</html>
